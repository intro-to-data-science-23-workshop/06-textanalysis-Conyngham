---
title: "Luca"
output: html_document
date: "2023-10-12"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r setup, include=FALSE}
#Install packages: 
library(tidyverse)
install.packages("quanteda") 
library(quanteda)
install.packages("quanteda.textmodels") 
install.packages("readtext")
```
Intro: 

What do we need quanteda for? 
- NLP 

WHy NLP?
- Large volumes of text data available (eg through social media)
- By using NLP text data can be transformed into processable data 

Example of use cases: 
- eg for social sciences (eg. political speeches, etc) 
- show more use cases


Section 1: 
Install quanteda:
install.packages("quanteda") 
library(quanteda)

Quanteda is available at CRAN: More packages
Quanteda.textmodel 
- Contains all of the text models + supporting functions 
- Textmodel_*() functions 
- Split from main package with v2 release 

Quanteda.textstats 
- Stats for textual data 
- Textstat_*() functions 
- Split with the v3 release 

Quanteda.textplots 
- Plots for textual data 
- Textplot_*() functions 
- Split with v3 release 

Available on GH: 
Quanteda.sentiment 
- Allows for sentiment analysis using dictionaries 

Quanteda.tidy: 
- Extensions for manipulating document variables in core quanteda objects using tidyverse functions 

Additionally recommended packages: 
readtext
spacyr
quanteda.corpora
LIWCalike

Installation:
install.packages("quanteda")
library(quanteda)



----------

Section 2: Readtext
Main function: It takes a file or fileset from disk or a URL, and returns a type of data.frame that can be used directly with the corpus() constructor function, to create a quanteda corpus object

Compatiple file types: 
text (.txt) files;
comma-separated-value (.csv) files;
XML formatted data;
data from the Facebook API, in JSON format;
data from the Twitter API, in JSON format; and
generic JSON data.

Installation:
install.packages("readtext")
library(readtext)


-----

Section 3: Major components

1. the corpus 
original data --> will be preprocessed and analysed
- stores documents (eg txt, json, pdf, word) like a library 
- used to create the tokens + dfm 

2. tokens
- elements of the text (words) 
- store the values of a unique word 
- tokenizing a corpus --> enables analysis of the tokens 
- Analysis of tokens --> happens within context of the original text 

3. dfm (document feature matrix)
counts tokens + shows how many tokens in how many corpuses
- matrix which stores all docs from corpus
- "bag of words" --> does not consider position of words in the text 
- possible to count frequency of words 
- enables quant analysis


Quanteda Workflow: 
- Raw text 
- Preprocessing 
  - tokenization 
  - removing stop words
  - stemming 
  - possible: create DFM 
- Analyse
  - Statistics, Models, Plots
  
Main functions: 
- Pipe can be used for all functions of the package 

First step: transform data into a corpus object 
#corpus(your_dataframe, text, etc)

Second step: Construct token objects 
tokens(corpus_object)
--> works as input for dfm 

Third step: DFM 

Show main functions: 
- Corpus functions 
- Token functions 
- DFM functions 



Previous presentations: 
- Analysis of How I met your mother script 


```{r cars}




```

